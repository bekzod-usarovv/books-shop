current.querySelectorAll(".bulkGrid__post").forEach(OT.flip.add)}}return null}componentDidUpdate(){OT.flip.run()}render(){return Glamor.createElement("div",{css:MR.root,ref:this.rootRef},this._renderPosts(),this._renderNoPostsMessage())}_renderPosts(){return 0===this.props.posts.length?null:Glamor.createElement(OT.Fragment,null,this.props.posts.map((e=>Glamor.createElement("div",{css:MR.post,className:"bulkGrid__post",key:e.id},e.element))))}_renderNoPostsMessage(){return this.props.posts.length>0?null:Glamor.createElement("div",{css:MR.noPostsMessage},"No posts to show")}}function FR(){return(FR=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}const BR={root:{width:"100%",...OT.noselect},header:{...OT.row,...OT.alignItems.center,...OT.justifyContent.between,height:23,marginBottom:OT.space.g1},changedPill:{marginRight:OT.space.g1h},dragHandler:{...OT.clickableInversed,width:68,height:12,display:"grid",gridTemplateColumns:"repeat(9, 1fr)",gap:4,cursor:"grab"},dragHandlerDot:{width:4,height:4,borderRadius:"50%",background:OT.color.iconPassive},editButton:{marginLeft:"auto",...OT.transition.fast,".bulkPost:not(:hover) &":{opacity:0}},editButtonHitbox:{right:0},content:{...OT.row},postPreview:{width:132,height:132,marginRight:OT.space.g1h,background:OT.color.bgLight1,overflow:"hidden",...OT.noselect,...OT.borderRadius.r4,...OT.relative()},postPreviewOverlay:{...OT.row,...OT.center,...OT.absolute("0 0 0 0 1"),...OT.transition.slow,transitionProperty:"opacity",cursor:"pointer",borderRadius:"inherit",opacity:0,".bulkPost:hover &":{opacity:1},".bulkPost_selected &":{opacity:1},"&::before":{content:'""',...OT.absolute("0 0 0 0"),...OT.transition.fast,transitionProperty:"opacity",background:OT.color.bgLight3,opacity:.3},".bulkPost_selected &::before":{opacity:.75}},checkmarkCircle:{...OT.absolute("50% . . 50%"),...OT.transition.fast,marginTop:-14,marginLeft:-14,color:OT.color.link,filter:"drop-shadow(var(--sh4))",".bulkPost:not(.bulkPost_selected) &":{transform:"scale(1.3)",opacity:0}},checkmark:{filter:"drop-shadow(var(--sh4))",...OT.transition.fast,...OT.relative(),".bulkPost_selected &":{transform:"scale(0.5)",opacity:0}},caption:{flexGrow:1,background:OT.color.bgLight1,border:OT.border.dark,fontSize:12,fontWeight:500,lineHeight:"18px",color:OT.color.textNormal,...OT.padding("g1 g1h"),...OT.borderRadius.r4,"&::placeholder":{color:OT.color.textNormal,opacity:.5}},captionLimits:{...OT.row,...OT.justifyContent.end,...OT.text.hashtag,...OT.transition.fast,marginTop:OT.space.g0h,".bulkPost:not(:hover) &":{opacity:0}},captionLimitsVisible:{opacity:"1 !important"},captionLimit:{},captionLimitExceeded:{color:OT.color.error}},LR="bulk-post.checkmark",NR="bulk-post.checkmark-circle";FT.registerSvgIcons([`<symbol id="${LR}" viewBox="0 0 22.79 17.452"><path d="M22.669 2.043L20.806.127a.4.4 0 00-.3-.127.384.384 0 00-.3.127L7.302 13.134l-4.7-4.7a.409.409 0 00-.593 0L.125 10.318a.422.422 0 000 .6l5.927 5.927a1.874 1.874 0 001.238.6 1.964 1.964 0 001.228-.582h.011l14.15-14.224a.452.452 0 00-.01-.596z" fill="#fff"/></symbol>`,`<symbol id="${NR}" viewBox="0 0 28 28"><g transform="translate(16175 -4757)"><circle cx="14" cy="14" r="14" transform="translate(-16175 4757)" fill="currentColor"/><path d="M-16152.436 4765.46l-1.449-1.49a.312.312 0 00-.231-.1.3.3 0 00-.231.1l-10.043 10.113-3.655-3.655a.318.318 0 00-.461 0l-1.469 1.465a.328.328 0 000 .469l4.61 4.61a1.458 1.458 0 00.963.469 1.528 1.528 0 00.955-.453h.008l11.012-11.064a.352.352 0 00-.009-.464z" fill="#fff"/></g></symbol>`]);class jR extends OT.Component{constructor(e){super(e),this._onClick=e=>{this.props.onClick&&this.props.onClick({withShift:e.shiftKey})},this._onCaptionChange=e=>{if(!this.props.onCaptionChange)return;const t=e.target.value;this.props.onCaptionChange(t)},this.state={dragging:!1}}render(){return Glamor.createElement("div",FR({css:BR.root,className:OT.class("bulkPost",{selected:this.props.selected})},IO.dragEvents(this,{onDragEnter:this.props.onDragEnter,onDragEnd:this.props.onDragEnd})),this._renderHeader(),Glamor.createElement("div",{css:BR.content},this._renderPostPreview(),this._renderCaption()),this._renderCaptionLimits())}_renderHeader(){return Glamor.createElement("div",{css:BR.header},this._renderChangedPill(),this._renderDragHandler(),this._renderEditButton())}_renderChangedPill(){return this.props.changed?Glamor.createElement(OD,{style:BR.changedPill,label:"CHANGED",tabIndex:"-1",value:!0}):null}_renderDragHandler(){return this.props.canDrag?Glamor.createElement("div",FR({css:BR.dragHandler},IO.dragEvents(this,{canDrag:!0,dragImage:this.props.postImage,onDragStart:this.props.onDragStart})),new Array(18).fill(0).map(((e,t)=>Glamor.createElement("div",{css:BR.dragHandlerDot,key:t})))):null}_renderEditButton(){return Glamor.createElement(_D,{style:BR.editButton,hitboxStyle:BR.editButtonHitbox,label:"OPEN IN POST EDITOR",tabIndex:"-1",onClick:this.props.onEditClick})}_renderPostPreview(){return Glamor.createElement("div",{css:BR.postPreview},this.props.postPreview,Glamor.createElement("div",{css:BR.postPreviewOverlay,className:"bulkPost__postPreviewOverlay",onClick:this._onClick},Glamor.createElement(FT,{style:BR.checkmarkCircle,name:NR}),Glamor.createElement(FT,{style:BR.checkmark,name:LR})))}_renderCaption(){return Glamor.createElement("textarea",{css:BR.caption,value:this.props.caption||"",placeholder:"Write a caption...",onChange:this._onCaptionChange})}_renderCaptionLimits(){const e=this.props.charsLeft<0||this.props.hashtagsLeft<0||this.props.mentionsLeft<0;return Glamor.createElement("div",{css:OT.pickStyles(BR,{captionLimits:!0,captionLimitsVisible:e})},this._renderCaptionLimit(this.props.charsLeft,"symbols","symbol"),", ",this._renderCaptionLimit(this.props.hashtagsLeft,"hashtags","hashtag"),", ",this._renderCaptionLimit(this.props.mentionsLeft,"mentions","mention"))}_renderCaptionLimit(e,t,r){const n=1===Math.abs(e)?r:t;return Glamor.createElement("div",{css:OT.pickStyles(BR,{captionLimit:!0,captionLimitExceeded:e<0})},e," ",n)}}const zR={root:{...OT.row,...OT.alignItems.center,...OT.padding("18 24"),...OT.shadow.sh12,...OT.relative(),...OT.noselect,background:OT.color.bgLight3,borderRadius:"4px 4px 0 0"},counter:{...OT.padding("g0h g1h"),background:OT.color.ico